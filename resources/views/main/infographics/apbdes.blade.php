<section class="py-20 bg-gradient-to-b from-gray-50 to-white">
  <div class="container mx-auto px-4">

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
      <div class="stat-card group bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 border-t-4 border-red-600 hover:scale-105 hover:-translate-y-2">
        <div class="relative inline-flex items-center justify-center w-16 h-16 mb-4">
          <div class="absolute inset-0 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl opacity-20 group-hover:opacity-30 transition-opacity blur-xl"></div>
          <div class="relative bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-4 group-hover:rotate-6 transition-transform duration-500">
            <i class="fas fa-arrow-down text-2xl text-white"></i>
          </div>
        </div>
        <div class="mb-3">
          <p class="text-sm text-gray-500 font-semibold mb-1">Total Pendapatan</p>
          <h3 class="text-3xl font-bold text-gray-800">
            Rp <span class="counter" data-target="999636">0</span>
          </h3>
          <p class="text-xs text-red-600 font-semibold mt-1">
            <span class="counter-small" data-target="999636000">0</span> (ribuan)
          </p>
        </div>
        <div class="pt-3 border-t border-gray-200">
          <p class="text-xs text-gray-500">
            <i class="fas fa-info-circle mr-1"></i>
            Sumber pendapatan desa
          </p>
        </div>
      </div>

      <div class="stat-card group bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 border-t-4 border-blue-600 hover:scale-105 hover:-translate-y-2">
        <div class="relative inline-flex items-center justify-center w-16 h-16 mb-4">
          <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl opacity-20 group-hover:opacity-30 transition-opacity blur-xl"></div>
          <div class="relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 group-hover:rotate-6 transition-transform duration-500">
            <i class="fas fa-arrow-up text-2xl text-white"></i>
          </div>
        </div>
        <div class="mb-3">
          <p class="text-sm text-gray-500 font-semibold mb-1">Total Belanja</p>
          <h3 class="text-3xl font-bold text-gray-800">
            Rp <span class="counter" data-target="1029636">0</span>
          </h3>
          <p class="text-xs text-blue-600 font-semibold mt-1">
            <span class="counter-small" data-target="1029636000">0</span> (ribuan)
          </p>
        </div>
        <div class="pt-3 border-t border-gray-200">
          <p class="text-xs text-gray-500">
            <i class="fas fa-info-circle mr-1"></i>
            Alokasi belanja desa
          </p>
        </div>
      </div>

      <div class="stat-card group bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 border-t-4 border-yellow-600 hover:scale-105 hover:-translate-y-2">
        <div class="relative inline-flex items-center justify-center w-16 h-16 mb-4">
          <div class="absolute inset-0 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl opacity-20 group-hover:opacity-30 transition-opacity blur-xl"></div>
          <div class="relative bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-4 group-hover:rotate-6 transition-transform duration-500">
            <i class="fas fa-plus text-2xl text-white"></i>
          </div>
        </div>
        <div class="mb-3">
          <p class="text-sm text-gray-500 font-semibold mb-1">Penerimaan Pembiayaan</p>
          <h3 class="text-3xl font-bold text-gray-800">
            Rp <span class="counter" data-target="30000">0</span>
          </h3>
          <p class="text-xs text-yellow-600 font-semibold mt-1">
            <span class="counter-small" data-target="30000000">0</span> (ribuan)
          </p>
        </div>
        <div class="pt-3 border-t border-gray-200">
          <p class="text-xs text-gray-500">
            <i class="fas fa-info-circle mr-1"></i>
            Contoh: SILPA
          </p>
        </div>
      </div>

      <div class="stat-card group bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 border-t-4 border-green-600 hover:scale-105 hover:-translate-y-2">
        <div class="relative inline-flex items-center justify-center w-16 h-16 mb-4">
          <div class="absolute inset-0 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl opacity-20 group-hover:opacity-30 transition-opacity blur-xl"></div>
          <div class="relative bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 group-hover:rotate-6 transition-transform duration-500">
            <i class="fas fa-minus text-2xl text-white"></i>
          </div>
        </div>
        <div class="mb-3">
          <p class="text-sm text-gray-500 font-semibold mb-1">Pengeluaran Pembiayaan</p>
          <h3 class="text-3xl font-bold text-gray-800">
            Rp <span class="counter" data-target="0">0</span>
          </h3>
          <p class="text-xs text-green-600 font-semibold mt-1">
            <span class="counter-small" data-target="0">0</span> (ribuan)
          </p>
        </div>
        <div class="pt-3 border-t border-gray-200">
          <p class="text-xs text-gray-500">
            <i class="fas fa-info-circle mr-1"></i>
            Penyertaan modal
          </p>
        </div>
      </div>
    </div>

    <div class="mb-16">
      <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-3xl p-8 shadow-xl border-l-4 border-purple-600">
        <div class="flex items-start gap-6">
          <div class="flex-shrink-0">
            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center">
              <i class="fas fa-calculator text-white text-2xl"></i>
            </div>
          </div>
          <div class="flex-1">
            <h4 class="text-2xl font-bold text-purple-800 mb-2">Selisih Anggaran</h4>
            <div class="grid md:grid-cols-3 gap-4 mt-4">
              <div class="bg-white rounded-xl p-4 shadow-md">
                <p class="text-sm text-gray-600 mb-1">Pendapatan + Penerimaan</p>
                <p class="text-2xl font-bold text-green-600">
                  Rp <span class="counter" data-target="1029636">0</span>
                </p>
              </div>
              <div class="bg-white rounded-xl p-4 shadow-md">
                <p class="text-sm text-gray-600 mb-1">Belanja + Pengeluaran</p>
                <p class="text-2xl font-bold text-red-600">
                  Rp <span class="counter" data-target="1029636">0</span>
                </p>
              </div>
              <div class="bg-white rounded-xl p-4 shadow-md">
                <p class="text-sm text-gray-600 mb-1">Selisih</p>
                <p class="text-2xl font-bold text-purple-600">
                  Rp <span class="counter" data-target="0">0</span>
                </p>
                <p class="text-xs text-gray-500 mt-1">
                  <i class="fas fa-check-circle text-green-500 mr-1"></i>
                  Anggaran Berimbang
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-8 mb-12">
      <div class="bg-white rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500">
        <div class="flex items-start justify-between mb-6">
          <div>
            <div class="inline-flex items-center gap-2 bg-red-50 text-red-600 px-3 py-1 rounded-full mb-3 text-sm">
              <i class="fas fa-chart-pie text-xs"></i>
              <span class="font-semibold">Sumber Dana</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Rincian Pendapatan Desa</h3>
            <p class="text-gray-600 mt-2">Komposisi sumber pendapatan desa tahun 2024</p>
          </div>
        </div>
        <div class="relative">
          <canvas id="pendapatanChart" class="w-full" style="max-height: 350px;"></canvas>
        </div>

        <div class="mt-6 pt-6 border-t border-gray-200 space-y-3">
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 bg-red-500 rounded"></div>
              <span class="text-gray-700 font-semibold">Dana Desa (DD)</span>
            </div>
            <span class="text-gray-800 font-bold">Rp 712.924.000</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 bg-blue-500 rounded"></div>
              <span class="text-gray-700 font-semibold">Alokasi Dana Desa (ADD)</span>
            </div>
            <span class="text-gray-800 font-bold">Rp 279.712.000</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 bg-yellow-500 rounded"></div>
              <span class="text-gray-700 font-semibold">Pendapatan Asli Desa (PAD)</span>
            </div>
            <span class="text-gray-800 font-bold">Rp 7.000.000</span>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500">
        <div class="flex items-start justify-between mb-6">
          <div>
            <div class="inline-flex items-center gap-2 bg-blue-50 text-blue-600 px-3 py-1 rounded-full mb-3 text-sm">
              <i class="fas fa-chart-bar text-xs"></i>
              <span class="font-semibold">Alokasi Anggaran</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Rincian Belanja Desa</h3>
            <p class="text-gray-600 mt-2">Distribusi belanja berdasarkan bidang</p>
          </div>
        </div>
        <div class="relative">
          <canvas id="belanjaChart" class="w-full" style="max-height: 350px;"></canvas>
        </div>

        <div class="mt-6 pt-6 border-t border-gray-200">
          <div class="grid grid-cols-2 gap-4">
            <div class="bg-blue-50 rounded-xl p-3 text-center">
              <p class="text-xs text-gray-600 mb-1">Terbesar</p>
              <p class="text-sm font-bold text-blue-600">Pemerintahan</p>
              <p class="text-xs text-gray-500">Rp 433 Jt</p>
            </div>
            <div class="bg-green-50 rounded-xl p-3 text-center">
              <p class="text-xs text-gray-600 mb-1">Total Bidang</p>
              <p class="text-2xl font-bold text-green-600">5</p>
              <p class="text-xs text-gray-500">Bidang</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-8 mb-12">
      <div class="bg-white rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500">
        <div class="mb-6">
          <div class="inline-flex items-center gap-2 bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full mb-3 text-sm">
            <i class="fas fa-list-ul text-xs"></i>
            <span class="font-semibold">Detail Anggaran</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-800">Rincian Per Bidang</h3>
          <p class="text-gray-600 mt-2">Breakdown belanja per kategori kegiatan</p>
        </div>

        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="bg-gradient-to-r from-indigo-600 to-indigo-700 text-white">
                <th class="px-4 py-3 text-left rounded-tl-xl text-sm">Bidang Belanja</th>
                <th class="px-4 py-3 text-right rounded-tr-xl text-sm">Anggaran</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-gray-200 hover:bg-indigo-50 transition-colors group">
                <td class="px-4 py-4">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                      <i class="fas fa-building text-white text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-gray-800 text-sm">Penyelenggaraan Pemerintahan</p>
                      <p class="text-xs text-gray-500">Operasional pemerintah desa</p>
                    </div>
                  </div>
                </td>
                <td class="px-4 py-4 text-right">
                  <span class="inline-flex items-center gap-2 bg-red-100 text-red-800 px-3 py-1 rounded-full font-bold text-sm">
                    433 Jt
                  </span>
                </td>
              </tr>
              <tr class="border-b border-gray-200 hover:bg-blue-50 transition-colors group">
                <td class="px-4 py-4">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                      <i class="fas fa-hammer text-white text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-gray-800 text-sm">Pelaksanaan Pembangunan</p>
                      <p class="text-xs text-gray-500">Infrastruktur & fasilitas</p>
                    </div>
                  </div>
                </td>
                <td class="px-4 py-4 text-right">
                  <span class="inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-bold text-sm">
                    326 Jt
                  </span>
                </td>
              </tr>
              <tr class="border-b border-gray-200 hover:bg-green-50 transition-colors group">
                <td class="px-4 py-4">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                      <i class="fas fa-users text-white text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-gray-800 text-sm">Pemberdayaan Masyarakat</p>
                      <p class="text-xs text-gray-500">Program pemberdayaan</p>
                    </div>
                  </div>
                </td>
                <td class="px-4 py-4 text-right">
                  <span class="inline-flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full font-bold text-sm">
                    170 Jt
                  </span>
                </td>
              </tr>
              <tr class="border-b border-gray-200 hover:bg-purple-50 transition-colors group">
                <td class="px-4 py-4">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                      <i class="fas fa-hands-helping text-white text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-gray-800 text-sm">Pembinaan Kemasyarakatan</p>
                      <p class="text-xs text-gray-500">Kegiatan sosial kemasyarakatan</p>
                    </div>
                  </div>
                </td>
                <td class="px-4 py-4 text-right">
                  <span class="inline-flex items-center gap-2 bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold text-sm">
                    65 Jt
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-orange-50 transition-colors group">
                <td class="px-4 py-4">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                      <i class="fas fa-exclamation-triangle text-white text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-gray-800 text-sm">Penanggulangan Bencana</p>
                      <p class="text-xs text-gray-500">Kesiapsiagaan & tanggap darurat</p>
                    </div>
                  </div>
                </td>
                <td class="px-4 py-4 text-right">
                  <span class="inline-flex items-center gap-2 bg-orange-100 text-orange-800 px-3 py-1 rounded-full font-bold text-sm">
                    34 Jt
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="space-y-8">
        <div class="bg-white rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500">
          <div class="mb-6">
            <div class="inline-flex items-center gap-2 bg-green-50 text-green-600 px-3 py-1 rounded-full mb-3 text-sm">
              <i class="fas fa-wallet text-xs"></i>
              <span class="font-semibold">Pembiayaan</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Rincian Pembiayaan Desa</h3>
            <p class="text-gray-600 mt-2">Sumber pembiayaan tambahan</p>
          </div>
          <div class="relative">
            <canvas id="pembiayaanChart" class="w-full" style="max-height: 250px;"></canvas>
          </div>

          <div class="mt-6 bg-green-50 rounded-xl p-4">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center">
                  <i class="fas fa-piggy-bank text-white"></i>
                </div>
                <div>
                  <p class="text-sm text-gray-600">SILPA Tahun Sebelumnya</p>
                  <p class="text-xs text-gray-500">Sisa Lebih Pembiayaan Anggaran</p>
                </div>
              </div>
              <p class="text-xl font-bold text-green-600">Rp 30 Jt</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-3xl shadow-xl p-8">
          <div class="mb-6">
            <div class="inline-flex items-center gap-2 bg-yellow-50 text-yellow-600 px-3 py-1 rounded-full mb-3 text-sm">
              <i class="fas fa-check-circle text-xs"></i>
              <span class="font-semibold">Status Realisasi</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-800">Realisasi APBDes</h3>
          </div>

          <div class="bg-gradient-to-br from-yellow-50 to-orange-50 border-l-4 border-yellow-500 p-6 rounded-2xl text-center">
            <div class="w-16 h-16 bg-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-clock text-white text-2xl"></i>
            </div>
            <p class="text-yellow-800 font-bold text-lg mb-2">Data Dalam Proses</p>
            <p class="text-yellow-700 text-sm leading-relaxed">
              Data realisasi APBDes akan diperbarui setelah proses pelaksanaan anggaran berjalan.
            </p>
            <div class="mt-4 inline-flex items-center gap-2 bg-white px-4 py-2 rounded-full text-sm">
              <i class="fas fa-calendar-alt text-yellow-600"></i>
              <span class="text-gray-700">Update berkala setiap triwulan</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-gradient-to-br from-blue-50 to-cyan-50 border-l-4 border-blue-500 p-8 rounded-3xl shadow-xl">
      <div class="flex items-start gap-6">
        <div class="flex-shrink-0">
          <div class="w-14 h-14 bg-blue-500 rounded-2xl flex items-center justify-center">
            <i class="fas fa-lightbulb text-white text-2xl"></i>
          </div>
        </div>
        <div>
          <h4 class="text-2xl font-bold text-blue-800 mb-3">Informasi Penting</h4>
          <div class="space-y-2 text-blue-700">
            <p class="flex items-start gap-2">
              <i class="fas fa-check-circle text-blue-500 mt-1"></i>
              <span>Data APBDes ini merupakan anggaran yang telah ditetapkan untuk tahun anggaran 2024</span>
            </p>
            <p class="flex items-start gap-2">
              <i class="fas fa-check-circle text-blue-500 mt-1"></i>
              <span>Realisasi anggaran akan dipublikasikan secara berkala setiap triwulan</span>
            </p>
            <p class="flex items-start gap-2">
              <i class="fas fa-check-circle text-blue-500 mt-1"></i>
              <span>Untuk informasi lebih detail, silakan kunjungi kantor desa atau hubungi perangkat desa</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {

    // ========================================
    // 1. COUNTER ANIMATION
    // ========================================
    const counters = document.querySelectorAll('.counter');
    const counterSpeed = 200;

    const animateCounter = (counter) => {
      const target = +counter.getAttribute('data-target');
      const increment = target / counterSpeed;

      const updateCounter = () => {
        const current = +counter.innerText.replace(/\./g, '');
        if (current < target) {
          counter.innerText = Math.ceil(current + increment).toLocaleString('id-ID');
          setTimeout(updateCounter, 10);
        } else {
          counter.innerText = target.toLocaleString('id-ID');
        }
      };
      updateCounter();
    };

    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounter(entry.target);
          counterObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.5
    });

    counters.forEach(counter => counterObserver.observe(counter));

    const smallCounters = document.querySelectorAll('.counter-small');
    smallCounters.forEach(counter => {
      const smallObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const target = +counter.getAttribute('data-target');
            counter.innerText = target.toLocaleString('id-ID');
            smallObserver.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.5
      });
      smallObserver.observe(counter);
    });

    // ========================================
    // 2. CHART - PENDAPATAN (Doughnut)
    // ========================================
    const ctxPendapatan = document.getElementById('pendapatanChart');
    if (ctxPendapatan) {
      new Chart(ctxPendapatan.getContext('2d'), {
        type: 'doughnut',
        data: {
          labels: ['Dana Desa (DD)', 'Alokasi Dana Desa (ADD)', 'Pendapatan Asli Desa (PAD)'],
          datasets: [{
            data: [712924000, 279712000, 7000000],
            backgroundColor: [
              'rgba(220, 38, 38, 0.8)',
              'rgba(59, 130, 246, 0.8)',
              'rgba(245, 158, 11, 0.8)'
            ],
            borderColor: [
              'rgb(220, 38, 38)',
              'rgb(59, 130, 246)',
              'rgb(245, 158, 11)'
            ],
            borderWidth: 3,
            hoverOffset: 20
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              padding: 12,
              cornerRadius: 8,
              titleFont: {
                size: 14,
                weight: 'bold'
              },
              bodyFont: {
                size: 13
              },
              callbacks: {
                label: function(context) {
                  const label = context.label || '';
                  const value = context.parsed;
                  const total = context.dataset.data.reduce((a, b) => a + b, 0);
                  const percentage = ((value / total) * 100).toFixed(1);
                  return label + ': Rp ' + value.toLocaleString('id-ID') + ' (' + percentage + '%)';
                }
              }
            }
          },
          animation: {
            duration: 2000,
            easing: 'easeInOutQuart'
          }
        }
      });
    }

    // ========================================
    // 3. CHART - BELANJA (Horizontal Bar)
    // ========================================
    const ctxBelanja = document.getElementById('belanjaChart');
    if (ctxBelanja) {
      new Chart(ctxBelanja.getContext('2d'), {
        type: 'bar',
        data: {
          labels: [
            'Pemerintahan',
            'Pembangunan',
            'Pemberdayaan',
            'Kemasyarakatan',
            'Bencana'
          ],
          datasets: [{
            label: 'Anggaran (Juta Rupiah)',
            data: [433.09, 326.84, 170.18, 65.53, 34],
            backgroundColor: [
              'rgba(220, 38, 38, 0.8)',
              'rgba(59, 130, 246, 0.8)',
              'rgba(34, 197, 94, 0.8)',
              'rgba(168, 85, 247, 0.8)',
              'rgba(249, 115, 22, 0.8)'
            ],
            borderColor: [
              'rgb(220, 38, 38)',
              'rgb(59, 130, 246)',
              'rgb(34, 197, 94)',
              'rgb(168, 85, 247)',
              'rgb(249, 115, 22)'
            ],
            borderWidth: 2,
            borderRadius: 8,
            borderSkipped: false
          }]
        },
        options: {
          indexAxis: 'y',
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              padding: 12,
              cornerRadius: 8,
              titleFont: {
                size: 14,
                weight: 'bold'
              },
              bodyFont: {
                size: 13
              },
              callbacks: {
                label: function(context) {
                  return 'Anggaran: Rp ' + context.parsed.x.toFixed(2) + ' Juta';
                }
              }
            }
          },
          scales: {
            x: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              },
              ticks: {
                callback: function(value) {
                  return 'Rp ' + value + ' Jt';
                },
                font: {
                  size: 11
                }
              }
            },
            y: {
              grid: {
                display: false
              },
              ticks: {
                font: {
                  size: 12,
                  weight: 'bold'
                }
              }
            }
          },
          animation: {
            duration: 2000,
            easing: 'easeInOutQuart'
          }
        }
      });
    }

    // ========================================
    // 4. CHART - PEMBIAYAAN (Pie)
    // ========================================
    const ctxPembiayaan = document.getElementById('pembiayaanChart');
    if (ctxPembiayaan) {
      new Chart(ctxPembiayaan.getContext('2d'), {
        type: 'pie',
        data: {
          labels: ['SILPA Tahun Sebelumnya'],
          datasets: [{
            data: [30000000],
            backgroundColor: [
              'rgba(34, 197, 94, 0.8)'
            ],
            borderColor: [
              'rgb(34, 197, 94)'
            ],
            borderWidth: 3,
            hoverOffset: 15
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                padding: 15,
                font: {
                  size: 13,
                  weight: 'bold'
                },
                usePointStyle: true,
                pointStyle: 'circle'
              }
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              padding: 12,
              cornerRadius: 8,
              titleFont: {
                size: 14,
                weight: 'bold'
              },
              bodyFont: {
                size: 13
              },
              callbacks: {
                label: function(context) {
                  return 'Jumlah: Rp ' + context.parsed.toLocaleString('id-ID');
                }
              }
            }
          },
          animation: {
            duration: 2000,
            easing: 'easeInOutQuart'
          }
        }
      });
    }

  });
</script>
